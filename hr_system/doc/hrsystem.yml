---
openapi: 3.0.3
servers:
- url: /api
tags:
  - name: "departments"
    description: "department API"
  - name: "organizations"
    description: "organization API"
  - name: "roles"
    description: "role API"
  - name: "employees"
    description: "employee API"
  - name: "leaveplans"
    description: "leave plan API"
  - name: "employee list by organization"
    description: "employee by organization API"
  - name: "employee list by organization and department"
    description: "employee by organization and department API"
  - name: "employee list by organization and role"
    description: "employee list by organization and role"
  - name: "employee by organization and department and role"
    description: "employee by organization, department and role API"
components:
  parameters:
    role_code:
      description: role code
      in: path
      name: role_code
      required: true
      schema:
        type: string
    organization_id:
      description: organization id
      in: path
      name: organization_id
      required: true
      schema:
        type: string
    department_id:
      description: department id
      in: path
      name: department_id
      required: true
      schema:
        type: string
    employee_id:
      description: employee id
      in: path
      name: employee_id
      required: true
      schema:
        type: string
    leaveplan_id:
      description: leave plan id
      in: path
      name: leaveplan_id
      required: true
      schema:
        type: string
  schemas:
    Role:
      properties:
        name:
          description: Name of the role
          type: string
        code:
          description: Role's unique code
          type: string
        description:
          description: Role description
          type: string
      required:
      - name
      - code
      type: object
    Organization:
      properties:
        name:
          description: Name of the organization
          type: string
        location:
          description: Location of organization
          type: string
        organization_id:
          description: organization unique id
          type: string
      required:
      - name
      - organization_id
      - location
      type: object
    Department:
      properties:
        name:
          description: Name of the department
          type: string
        description:
          description: description of department
          type: string
        department_id:
          description: department unique id
          type: string
      required:
      - name
      - department_id
      type: object
    Employee:
      properties:
        employee_id:
          description: Employee id
          type: string
        first_name:
          description: first name of the employee
          type: string
        middle_name:
          description: middle name of the employee
          type: string
        last_name:
          description: last name of the employee
          type: string
        address:
          description: address of the employee
          type: string
        gender:
          description: gender of the employee
          type: string
        date_of_birth:
          description: birth day of the employee
          type: string
          format: DateTime 
        appointment_date:
          description: appointment date of the employee
          type: string
          format: DateTime 
        active_emp:
          description: employee is working currently or not
          type: boolean
        prefix_title:
          description: employee title
          type: string
          format: enum 
        marritial_status:
          description: marritial status
          type: string
          format: enum 
        mobile_no:
          description: mobile number
          type: string
        basic_salary:
          description: employee basic salary
          type: number
        account_number:
          description: bank account number
          type: string
      required:
      - employee_id
      - first_name
      - last_name
      - address
      - gender
      - appointment_date
      - active_emp
      - mobile_no
      - basic_salary
      - account_number
      type: object
    LeavePlan:
      properties:
        leave_type:
          description: type of the leave
          type: string
          format: enum 
        reason:
          description: reason for leave
          type: string
        leave_date:
          description: date of the leave
          type: string
          format: DateTime 
      required:
      - id
      - leave_type
      - leave_date
      type: object
    Error:
      type: object
      properties:
        status_code:
          type: integer
        error:
          type: string
        message:
          type: string
  securitySchemes:
    HRSystemKey:
      type: apiKey
      name: HRSystem-Api-Key
      in: header
info:
  title: HR System Example
  version: 0.0.1
  description: |
    This is an API example used in the Programmable Web Project course.
    It stores human resource management related data.
  termsOfService: http://totally.not.placehold.er/
  contact:
    url: http://totally.not.placehold.er/
    email: hr@oulu.fi
    name: HR staff
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
paths:
  /roles/:
    get:
      tags: 
        - roles 
      description: Get the list of managed roles
      security:
        - HRSystemKey: [admin]
      responses:
        '200':
          description: List of roles
          content:
            application/vnd.mason+json:
              example:
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                "@controls":
                  self:
                    href: "/api/roles/"
                  hrsys:add-role:
                    method: POST
                    encoding: json
                    title: Add a new role
                    schema:
                      type: object
                      required:
                      - name
                      - code
                      properties:
                        name:
                          description: Role's unique name
                          type: string
                        code:
                          description: unique code of role
                          type: string
                        description:
                          description: description of role
                          type:
                          - string
                          - 'null'
                    href: "/api/roles/"
                  hrsys:employee-all:
                    method: GET
                    title: get employees
                    href: "/api/employees/"
                items:
                - name: Team Lead
                  code: TL
                  description:
                  "@controls":
                    self:
                      href: "/api/roles/TL/"
                    profile:
                      href: "/profiles/role_collection/"
                - name: Manager
                  code: MAN
                  description: Role manager
                  "@controls":
                    self:
                      href: "/api/roles/MAN/"
                    profile:
                      href: "/profiles/role_collection/"
                - name: Associate team lead
                  code: ATL
                  description:
                  "@controls":
                    self:
                      href: "/api/roles/ATL/"
                    profile:
                      href: "/profiles/role_collection/"
                - name: Receptionnist
                  code: RES
                  description: Role reception
                  "@controls":
                    self:
                      href: "/api/roles/RES/"
                    profile:
                      href: "/profiles/role_collection/"
                - name: Developer
                  code: DEV
                  description:
                  "@controls":
                    self:
                      href: "/api/roles/DEV/"
                    profile:
                      href: "/profiles/role_collection/"
                - name: Quality analysis
                  code: QA
                  description:
                  "@controls":
                    self:
                      href: "/api/roles/QA/"
                    profile:
                      href: "/profiles/role_collection/"

        '403':
          description: Authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/roles/"
                "@error":
                  "@message": Forbidden
                  "@messages":
                  - Authentication error
                "@controls":
                  profile:
                    href: "/profiles/error/"


    post:
      tags: 
        - roles
      description: Create a new Role
      security:
        - HRSystemKey: [admin]
      requestBody:
        description: JSON document that contains basic data for a new role
        content:
          application/vnd.mason+json:
            schema:
              $ref: '#/components/schemas/Role'
            example:
              name: role test
              code: TEST
              description: new test role to add
      responses:
        '201':
          description: The Role was created successfully
          headers:
            Location:
              schema:
                type: string
              description: Location URL for created role
        '400':
          description: The request body was not valid
          content:
            application/vnd.mason+json:
              example:
                resource_url: /api/roles/
                "@error": 
                  "@message": "Invalid request"
                  "@messages":
                    - The request body was not valid
                  "@controls":
                    profile:
                      href: /profiles/error/
        '409':
          description: A role with the same code already exists
          content:
            application/vnd.mason+json:
              example:
                resource_url: /api/roles/
                "@error": 
                  "@message": Conflict
                  "@messages": Role exist
                  "@controls":
                    profile:
                      href: /profiles/error/
        '415':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: /api/roles/
                "@error": 
                  "@message": Unsupported media type
                  "@messages": Unsupported media type
                  "@controls":
                    profile:
                      href: /profiles/error/
        '403':
          description: Authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: /api/roles/
                "@error": 
                  "@message": Forbidden
                  "@messages": Authentication error
                  "@controls":
                    profile:
                      href: /profiles/error/

  /roles/{role_code}/:
    parameters:
    - $ref: '#/components/parameters/role_code'
    get:
      tags: 
        - roles
      description: Get details of one role
      security:
        - HRSystemKey: [admin]
      responses:
        '200':
          description: List of roles
          content:
            application/vnd.mason+json:
              example:
                name: Manager
                code: MAN
                description: Role manager
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                "@controls":
                  self:
                    href: "/api/roles/MAN/"
                  profile:
                    href: "/profiles/role_item/"
                  collection:
                    href: "/api/roles/"
                  hrsys:delete-role:
                    method: DELETE
                    title: Delete this role
                    href: "/api/roles/MAN/"
                  edit:
                    method: PUT
                    encoding: json
                    title: Edit this role
                    schema:
                      type: object
                      required:
                      - name
                      - code
                      properties:
                        name:
                          description: Role's unique name
                          type: string
                        code:
                          description: unique code of role
                          type: string
                        description:
                          description: description of role
                          type:
                          - string
                          - 'null'
                    href: "/api/roles/MAN/"
        '404':
          description: The role was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/roles/MANkk/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - Role not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '403':
          description: Authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/roles/MANkk/"
                "@error":
                  "@message": Forbidden
                  "@messages":
                  - Authentication error
                "@controls":
                  profile:
                    href: "/profiles/error/"

    put:
      tags: 
        - roles
      description: Replace role's basic data with new values
      security:
        - HRSystemKey: [admin]
      requestBody:
        description: JSON document that contains new basic data for the role
        content:
          application/vnd.mason+json:
            schema:
              $ref: '#/components/schemas/Role'
            example:
              name: role test edited
              code: TEST
              description: new test role to edit
      responses:
        '204':
          description: The role's attributes were updated successfully
        '400':
          description: The request body was not valid
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/roles/MAN/"
                "@error":
                  "@message": Bad request
                  "@messages": Bad request
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '404':
          description: The role was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/roles/MANkk/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - Role not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '409':
          description: A role with the same name already exists
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/roles/MANkk/"
                "@error":
                  "@message": Conflict
                  "@messages":
                  - Role exist
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '415':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/roles/MANkk/"
                "@error":
                  "@message": Unsupported media type
                  "@messages":
                  - unsupported media type
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '403':
          description: Authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/roles/MANkk/"
                "@error":
                  "@message": Forbidden
                  "@messages":
                  - Authentication error
                "@controls":
                  profile:
                    href: "/profiles/error/"
    delete:
     tags: 
        - roles
     description: Delete the selected role
     security:
        - HRSystemKey: [admin]
     responses:
        '204':
         description: The role was successfully deleted
        '404':
         description: The role was not found
         content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/roles/MANkk/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - Role not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '403':
          description: Authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/roles/MANkk/"
                "@error":
                  "@message": Forbidden
                  "@messages":
                  - Authentication error
                "@controls":
                  profile:
                    href: "/profiles/error/"


  /organizations/:
    get:
      tags: 
        - organizations
      description: Get the list of managed organizations
      security:
        - HRSystemKey: [admin]
      responses:
        '200':
          description: List of organizations
          content:
            application/vnd.mason+json:
              example:
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                "@controls":
                  self:
                    href: "/api/organizations/"
                  hrsys:add-organization:
                    method: POST
                    encoding: json
                    title: Add a new organization
                    schema:
                      type: object
                      required:
                      - organization_id
                      - name
                      - location
                      properties:
                        organization_id:
                          description: organization id
                          type: string
                        name:
                          description: organization name
                          type: string
                        location:
                          description: organization location
                          type: string
                    href: "/api/organizations/"
                  hrsys:employee-all:
                    method: GET
                    title: get employees
                    href: "/api/employees/"
                items:
                - organization_id: O02
                  name: Org21
                  location: helsinki
                  "@controls":
                    self:
                      href: "/api/organizations/O02/"
                    profile:
                      href: "/profiles/organization_collection/"
                - organization_id: O01
                  name: Org11
                  location: oulu
                  "@controls":
                    self:
                      href: "/api/organizations/O01/"
                    profile:
                      href: "/profiles/organization_collection/"


    post:
      tags: 
        - organizations
      description: Create a new organization
      security:
        - HRSystemKey: [admin]
      requestBody:
        description: JSON document that contains basic data for a new organization
        content:
          application/vnd.mason+json:
            schema:
              $ref: '#/components/schemas/Organization'
            example:
              name: testOrg
              location: testLoc
              organization_id: O07
      responses:
        '201':
          description: The organization was created successfully
          headers:
            Location:
              schema:
                type: string
              description: Location URL for created organization
        '400':
          description: The request body was not valid
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/"
                "@error":
                  "@message": Bad request
                  "@messages":
                  -
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '409':
          description: A organization with the same code already exists
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/"
                "@error":
                  "@message": Conflict
                  "@messages": Already exist
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '415':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/"
                "@error":
                  "@message": Unsupported Media Type
                  "@messages": Wrong media type was used
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '403':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/"
                "@error":
                  "@message": Forbidden
                  "@messages": Authentication error
                "@controls":
                  profile:
                    href: "/profiles/error/"

  /organizations/{organization_id}/:
    parameters:
    - $ref: '#/components/parameters/organization_id'
    get:
      tags: 
        - organizations
      description: Get details of one organization
      security:
        - HRSystemKey: [admin]
      responses:
        '200':
          description: data of an organization
          content:
            application/vnd.mason+json:
              example:
                organization_id: O01
                name: Org11
                location: oulu
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                "@controls":
                  self:
                    href: "/api/organizations/O01/"
                  profile:
                    href: "/profiles/organization_item/"
                  collection:
                    href: "/api/organizations/"
                  hrsys:delete-organization:
                    method: DELETE
                    title: Delete this organization
                    href: "/api/organizations/O01/"
                  edit:
                    method: PUT
                    encoding: json
                    title: Edit this organization
                    schema:
                      type: object
                      required:
                      - organization_id
                      - name
                      - location
                      properties:
                        organization_id:
                          description: organization id
                          type: string
                        name:
                          description: organization name
                          type: string
                        location:
                          description: organization location
                          type: string
                    href: "/api/organizations/O01/"

        '404':
          description: The organization was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/005"
                "@error":
                  "@message": Not found
                  "@messages": organization was not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
    put:
      tags: 
        - organizations
      description: Replace organization's basic data with new values
      security:
        - HRSystemKey: [admin]
      requestBody:
        description: JSON document that contains new basic data for the organization
        content:
          application/vnd.mason+json:
            schema:
              $ref: '#/components/schemas/Organization'
            example:
              name: testOrg edit
              location: testLoc edit
              organization_id: O07
      responses:
        '204':
          description: The organization's attributes were updated successfully
        '400':
          description: The request body was not valid
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/005"
                "@error":
                  "@message": Bad request
                  "@messages": bad request
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '404':
          description: The organization was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/005"
                "@error":
                  "@message": Not found
                  "@messages": organization was not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '409':
          description: A organization with the same name already exists
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/005"
                "@error":
                  "@message": Conflict
                  "@messages": organization exist
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '415':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/005"
                "@error":
                  "@message": Unsupported media type
                  "@messages": unsupported media
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '403':
          description: authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/005"
                "@error":
                  "@message": Forbidden
                  "@messages": Authentication error
                "@controls":
                  profile:
                    href: "/profiles/error/"
    delete:
      tags: 
        - organizations
      description: Delete the selected organization
      security:
        - HRSystemKey: [admin]
      responses:
        '204':
          description: The organization was successfully deleted
        '404':
          description: The organization was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/005"
                "@error":
                  "@message": Not found
                  "@messages": organization was not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '403':
          description: authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/005"
                "@error":
                  "@message": Forbidden
                  "@messages": Authentication error
                "@controls":
                  profile:
                    href: "/profiles/error/"


  /departments/:
    get:
      tags: 
        - departments
      description: Get the list of managed department
      security:
        - HRSystemKey: [admin]
      responses:
        '200':
          description: List of department
          content:
            application/vnd.mason+json:
              example:
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                "@controls":
                  self:
                    href: "/api/departments/"
                  hrsys:add-dept:
                    method: POST
                    encoding: json
                    title: Add a new department
                    schema:
                      type: object
                      required:
                      - department_id
                      - name
                      properties:
                        department_id:
                          description: department id
                          type: string
                        name:
                          description: department name
                          type: string
                        description:
                          description: department description
                          type:
                          - string
                          - 'null'
                    href: "/api/departments/"
                  hrsys:employee-all:
                    method: GET
                    title: get employees
                    href: "/api/employees/"
                items:
                - department_id: D03
                  name: dept55
                  description: department number three
                  "@controls":
                    self:
                      href: "/api/departments/D03/"
                    profile:
                      href: "/profiles/department_collection/"
                - department_id: D01
                  name: dept34
                  description: department number one
                  "@controls":
                    self:
                      href: "/api/departments/D01/"
                    profile:
                      href: "/profiles/department_collection/"
                - department_id: D02
                  name: dept44
                  description: department number two
                  "@controls":
                    self:
                      href: "/api/departments/D02/"
                    profile:
                      href: "/profiles/department_collection/"
                - department_id: D07
                  name: test department
                  description: department to test
                  "@controls":
                    self:
                      href: "/api/departments/D07/"
                    profile:
                      href: "/profiles/department_collection/"

    post:
      tags: 
        - departments
      description: Create a new department
      security:
        - HRSystemKey: [admin]
      requestBody:
        description: JSON document that contains basic data for a new department
        content:
          application/vnd.mason+json:
            schema:
              $ref: '#/components/schemas/Department'
            example:
              name: test department
              description: department to test
              department_id: D07
      responses:
        '201':
          description: The department was created successfully
          headers:
            Location:
              schema:
                type: string
              description: Location URL for created department
        '400':
          description: The request body was not valid
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/departments/"
                "@error":
                  "@message": Bad request
                  "@messages":
                  -
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '409':
          description: A department with the same code already exists
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/departments/"
                "@error":
                  "@message": Conflict
                  "@messages": Department exists
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '415':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/departments/"
                "@error":
                  "@message": Unsupported media type
                  "@messages": Unsupported media type
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '403':
          description: Forbidden
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/departments/"
                "@error":
                  "@message": Authentication Error
                  "@messages":
                  -
                "@controls":
                  profile:
                    href: "/profiles/error/"
     
  /departments/{department_id}/:
    parameters:
    - $ref: '#/components/parameters/department_id'
    get:
      tags: 
        - departments
      description: Get details of one department
      security:
        - HRSystemKey: [admin]
      responses:
        '200':
          description: List of department
          content:
            application/vnd.mason+json:
              example:
                department_id: D01
                name: dept34
                description: department number one
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                "@controls":
                  self:
                    href: "/api/departments/D01/"
                  profile:
                    href: "/profiles/department_item/"
                  collection:
                    href: "/api/departments/"
                  hrsys:delete-dept:
                    method: DELETE
                    title: Delete this department
                    href: "/api/departments/D01/"
                  edit:
                    method: PUT
                    encoding: json
                    title: Edit this department
                    schema:
                      type: object
                      required:
                      - department_id
                      - name
                      properties:
                        department_id:
                          description: department id
                          type: string
                        name:
                          description: department name
                          type: string
                        description:
                          description: department description
                          type:
                          - string
                          - 'null'
                    href: "/api/departments/D01/"
        '404':
          description: The department was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/departments/555/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - Department not found
                "@controls":
                  profile:
                    href: "/profiles/error/"   
    put:
      tags: 
        - departments
      description: Replace department's basic data with new values
      security:
        - HRSystemKey: [admin]
      requestBody:
        description: JSON document that contains new basic data for the department
        content:
          application/vnd.mason+json:
            schema:
              $ref: '#/components/schemas/Department'
            example:
              name: test department edit
              description: department to test edit
              department_id: D07
      responses:
        '204':
          description: The department's attributes were updated successfully
        '400':
          description: The request body was not valid
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/departments/555/"
                "@error":
                  "@message": Bad Request
                  "@messages":
                  - Bad request
                "@controls":
                  profile:
                    href: "/profiles/error/" 
        '404':
          description: The department was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/departments/555/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - Department not found
                "@controls":
                  profile:
                    href: "/profiles/error/" 
        '409':
          description: A department with the same name already exists
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/departments/555/"
                "@error":
                  "@message": Conflict
                  "@messages":
                  - A department with the same name already exists
                "@controls":
                  profile:
                    href: "/profiles/error/" 
        '415':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/departments/555/"
                "@error":
                  "@message": Unsupported media type
                  "@messages":
                  - wrong mwdia type
                "@controls":
                  profile:
                    href: "/profiles/error/" 

    delete:
      tags: 
        - departments
      description: Delete the selected department
      security:
        - HRSystemKey: [admin]
      responses:
        '204':
          description: The department was successfully deleted
        '404':
          description: The department was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/departments/555/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - A department not found
                "@controls":
                  profile:
                    href: "/profiles/error/" 


  /employees/:
    get:
      tags: 
        - employees
      description: Get the list of managed employees
      security:
        - HRSystemKey: [admin]
      responses:
        '200':
          description: List of employees
          content:
            application/vnd.mason+json:
              example:
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                items:
                - employee_id: E02
                  first_name: sameera
                  last_name: panditha
                  middle_name:
                  address: raksila
                  gender: M
                  date_of_birth: '2018-11-13T20:20:39+00:00'
                  appointment_date: '2018-11-13T20:20:39+00:00'
                  active_emp: true
                  prefix_title: MR
                  marritial_status: SINGLE
                  mobile_no: '21456'
                  basic_salary: 10000
                  account_number: '11233565456'
                  role: RES
                  organization: O02
                  department: D01
                  "@controls":
                    self:
                      href: "/api/employees/E02/"
                    profile:
                      href: "/profiles/employee_by_relation_collection/"
                - employee_id: E01
                  first_name: anusha
                  last_name: pathirana
                  middle_name:
                  address: oulu
                  gender: F
                  date_of_birth: '2018-11-13T20:20:39+00:00'
                  appointment_date: '2018-11-13T20:20:39+00:00'
                  active_emp: true
                  prefix_title: MISS
                  marritial_status: SINGLE
                  mobile_no: '21456'
                  basic_salary: 10000
                  account_number: '11233565456'
                  role: MAN
                  organization: O01
                  department: D02
                  "@controls":
                    self:
                      href: "/api/employees/E01/"
                    profile:
                      href: "/profiles/employee_by_relation_collection/"
                "@controls":
                  self:
                    href: "/api/employees/"

  
  /organizations/{organization_id}/roles/{role_code}/employees/:
    get:
      tags: 
        - employee list by organization and role
      description: Get the list of managed employees based on their organization and role
      security:
        - HRSystemKey: [admin]
      parameters:
        - $ref: '#/components/parameters/organization_id'
        - $ref: '#/components/parameters/role_code'
      responses:
        '200':
          description: List of employees
          content:
            application/vnd.mason+json:
              example:
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                items:
                - employee_id: E01
                  first_name: anusha
                  last_name: pathirana
                  middle_name:
                  address: oulu
                  gender: F
                  date_of_birth: '2018-11-13T20:20:39+00:00'
                  appointment_date: '2018-11-13T20:20:39+00:00'
                  active_emp: true
                  prefix_title: MISS
                  marritial_status: SINGLE
                  mobile_no: '21456'
                  basic_salary: 10000
                  account_number: '11233565456'
                  role: MAN
                  organization: O01
                  department: D02
                  "@controls":
                    self:
                      href: "/api/employees/E01/"
                    profile:
                      href: "/profiles/employee_by_relation_collection/"
                "@controls":
                  self:
                    href: "/api/organizations/O01/roles/MAN/employees/"
                  hrsys:organization:
                    method: GET
                    title: get organization
                    href: "/api/organizations/O01/"
                  hrsys:role:
                    method: GET
                    title: get role
                    href: "/api/roles/MAN/"
                  up:
                    href: "/api/employees/"

  
  /organizations/{organization_id}/employees/:
    get:
      tags: 
        - employee list by organization
      description: Get the list of employees in same organization
      security:
        - HRSystemKey: [admin]
      parameters:
        - $ref: '#/components/parameters/organization_id'
      responses:
        '200':
          description: List of employees
          content:
            application/vnd.mason+json:
              example:
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                items:
                - employee_id: E04
                  first_name: john
                  last_name: snow
                  middle_name:
                  address: helsinki
                  gender: M
                  date_of_birth: '2018-11-13T20:20:39+00:00'
                  appointment_date: '2018-11-13T20:20:39+00:00'
                  active_emp: true
                  prefix_title: MR
                  marritial_status: SINGLE
                  mobile_no: '21456'
                  basic_salary: 10000
                  account_number: '11233565456'
                  role: ATL
                  organization: O01
                  department: D01
                  "@controls":
                    self:
                      href: "/api/employees/E04/"
                    profile:
                      href: "/profiles/employee_by_relation_collection/"
                - employee_id: E01
                  first_name: anusha
                  last_name: pathirana
                  middle_name:
                  address: oulu
                  gender: F
                  date_of_birth: '2018-11-13T20:20:39+00:00'
                  appointment_date: '2018-11-13T20:20:39+00:00'
                  active_emp: true
                  prefix_title: MISS
                  marritial_status: SINGLE
                  mobile_no: '21456'
                  basic_salary: 10000
                  account_number: '11233565456'
                  role: MAN
                  organization: O01
                  department: D02
                  "@controls":
                    self:
                      href: "/api/employees/E01/"
                    profile:
                      href: "/profiles/employee_by_relation_collection/"
                "@controls":
                  self:
                    href: "/api/organizations/O01/employees/"
                  hrsys:organization:
                    method: GET
                    title: get organization
                    href: "/api/organizations/O01/"
                  up:
                    href: "/api/employees/"

  
  /organizations/{organization_id}/departments/{department_id}/employees/:
    get:
      tags: 
        - employee list by organization and department
      description: Get the list of employees in same organization and same department
      security:
        - HRSystemKey: [admin]
      parameters:
        - $ref: '#/components/parameters/organization_id'
        - $ref: '#/components/parameters/department_id'
      responses:
        '200':
          description: List of employees
          content:
            application/vnd.mason+json:
              example:
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                items:
                - employee_id: E01
                  first_name: anusha
                  last_name: pathirana
                  middle_name:
                  address: oulu
                  gender: F
                  date_of_birth: '2018-11-13T20:20:39+00:00'
                  appointment_date: '2018-11-13T20:20:39+00:00'
                  active_emp: true
                  prefix_title: MISS
                  marritial_status: SINGLE
                  mobile_no: '21456'
                  basic_salary: 10000
                  account_number: '11233565456'
                  role: MAN
                  organization: O01
                  department: D02
                  "@controls":
                    self:
                      href: "/api/employees/E01/"
                    profile:
                      href: "/profiles/employee_by_relation_collection/"
                "@controls":
                  self:
                    href: "/api/organizations/O01/departments/D02/employees/"
                  hrsys:organization:
                    method: GET
                    title: get organization
                    href: "/api/organizations/O01/"
                  hrsys:department:
                    method: GET
                    title: get department
                    href: "/api/departments/D02/"
                  up:
                    href: "/api/employees/"

  
  /organizations/{organization_id}/departments/{department_id}/roles/{role_code}/employees/:
    get:
      tags: 
        - employee by organization and department and role
      description: Get the list of employees in same organization and same department and same role category
      security:
        - HRSystemKey: [admin]
      parameters:
        - $ref: '#/components/parameters/organization_id'
        - $ref: '#/components/parameters/department_id'
        - $ref: '#/components/parameters/role_code'
      responses:
        '200':
          description: List of employees
          content:
            application/vnd.mason+json:
              example:
                "@namespaces":
                hrsys:
                  name: "/hr_system/link-relations/"
                items:
                - employee_id: E01
                  first_name: anusha
                  last_name: pathirana
                  middle_name:
                  address: oulu
                  gender: F
                  date_of_birth: '2018-11-13T20:20:39+00:00'
                  appointment_date: '2018-11-13T20:20:39+00:00'
                  active_emp: true
                  prefix_title: MISS
                  marritial_status: SINGLE
                  mobile_no: '21456'
                  basic_salary: 10000
                  account_number: '11233565456'
                  role: MAN
                  organization: O01
                  department: D02
                  "@controls":
                    self:
                      href: "/api/employees/E01/"
                    profile:
                      href: "/profiles/employee_by_relation_collection/"
                "@controls":
                  self:
                    href: "/api/organizations/O01/departments/D02/roles/MAN/employees/"
                  hrsys:add-employee:
                    method: POST
                    encoding: json
                    title: Add a new employee given the organization department and role
                    schema:
                      type: object
                      required:
                      - first_name
                      - last_name
                      - address
                      - gender
                      - appointment_date
                      - active_emp
                      - mobile_no
                      - basic_salary
                      - account_number
                      properties:
                        employee_id:
                          description: Employee unique id
                          type: string
                        first_name:
                          description: Employee First name
                          type: string
                        middle_name:
                          description: Employee middle name
                          type:
                          - string
                          - 'null'
                        last_name:
                          description: Employee last name
                          type: string
                        address:
                          description: Employee address
                          type: string
                        gender:
                          description: Employee gender
                          type: string
                        date_of_birth:
                          description: Employee date of birth
                          type:
                          - string
                          - 'null'
                          format: date-time
                        appointment_date:
                          description: Employee date of appoinment
                          type: string
                          format: date-time
                        prefix_title:
                          description: Employee name title
                          type:
                          - string
                          - 'null'
                          enum:
                          - MR
                          - MISS
                          - MRS
                          - DR
                        marritial_status:
                          description: Employee merritial status
                          enum:
                          - MARRIED
                          - DIVORCED
                          - SINGLE
                          - WIDOWED
                          - UNAVAILABLE
                          type:
                          - string
                          - 'null'
                        mobile_no:
                          description: Employee mobile number
                          type: string
                        basic_salary:
                          description: Employee basic salary
                          type: number
                        account_number:
                          description: Employee bank account number
                          type: string
                    href: "/api/organizations/O01/departments/D02/roles/MAN/employees/"
                  hrsys:organization:
                    method: GET
                    title: get organization
                    href: "/api/organizations/O01/"
                  hrsys:department:
                    method: GET
                    title: get department
                    href: "/api/departments/D02/"
                  hrsys:role:
                    method: GET
                    title: get role
                    href: "/api/roles/MAN/"
                  up:
                    href: "/api/employees/"


    post:
      tags: 
        - employee by organization and department and role
      description: Create a new employee
      security:
        - HRSystemKey: [admin]
      parameters:
        - $ref: '#/components/parameters/organization_id'
        - $ref: '#/components/parameters/department_id'
        - $ref: '#/components/parameters/role_code'
      requestBody:
        description: JSON document that contains basic data for a new employee
        content:
          application/vnd.mason+json:
            schema:
              $ref: '#/components/schemas/Employee'
            example:
              employee_id: E07
              first_name: test emp
              middle_name: middle test name
              last_name: last name test
              address: test address
              gender: M
              date_of_birth: "2018-11-13T20:20:39+00:00"
              appointment_date: "2018-11-13T20:20:39+00:00"
              active_emp: 1
              prefix_title: MR
              marritial_status: SINGLE
              mobile_no: N7546882365
              basic_salary: 4565
              account_number: FI5896455
      responses:
        '201':
          description: The employee was created successfully
          headers:
            Location:
              schema:
                type: string
              description: Location URL for created employee
        '400':
          description: The request body was not valid
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/ss/departments/z/roles/s/employees/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - Organization not found
                "@controls":
                  profile:
                    href: "/profiles/error/"    
        '409':
          description: A employee with the same code already exists
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/ss/departments/z/roles/s/employees/"
                "@error":
                  "@message": Conflict
                  "@messages":
                  - Employee exist
                "@controls":
                  profile:
                    href: "/profiles/error/" 
        '415':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/ss/departments/z/roles/s/employees/"
                "@error":
                  "@message": Unsupported media type
                  "@messages":
                  - Unsuported media type
                "@controls":
                  profile:
                    href: "/profiles/error/" 
        '403':
          description: Authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/organizations/ss/departments/z/roles/s/employees/"
                "@error":
                  "@message": Forbidden
                  "@messages":
                  - Auth error
                "@controls":
                  profile:
                    href: "/profiles/error/" 

  /employees/{employee_id}/:
    parameters:
    - $ref: '#/components/parameters/employee_id'
    get:
      tags: 
        - employees
      description: Get details of one employee
      security:
        - HRSystemKey: [employee]
      responses:
        '200':
          description: data of one employee
          content:
            application/vnd.mason+json:
              example:
                employee_id: E01
                first_name: anusha
                last_name: pathirana
                middle_name:
                address: oulu
                gender: F
                date_of_birth: '2018-11-13T20:20:39+00:00'
                appointment_date: '2018-11-13T20:20:39+00:00'
                active_emp: true
                prefix_title: MISS
                marritial_status: SINGLE
                mobile_no: '21456'
                basic_salary: 10000
                account_number: '11233565456'
                role: MAN
                organization: O01
                department: D02
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                "@controls":
                  self:
                    href: "/api/employees/E01/"
                  collection:
                    href: "/api/employees/"
                  hrsys:by-org:
                    method: GET
                    title: get employees by organization
                    href: "/api/organizations/O01/employees/"
                  hrsys:by-org-dept:
                    method: GET
                    title: get employees by organization and department
                    href: "/api/organizations/O01/departments/D02/employees/"
                  hrsys:by-org-role:
                    method: GET
                    title: get employees by organization and role
                    href: "/api/organizations/O01/roles/MAN/employees/"
                  hrsys:by-org-dept-role:
                    method: GET
                    title: get employees by organization,department and role
                    href: "/api/organizations/O01/departments/D02/roles/MAN/employees/"
                  hrsys:organization:
                    method: GET
                    title: get organization
                    href: "/api/organizations/O01/"
                  hrsys:department:
                    method: GET
                    title: get department
                    href: "/api/departments/D02/"
                  hrsys:role:
                    method: GET
                    title: get role
                    href: "/api/roles/MAN/"
                  hrsys:leaves:
                    method: GET
                    title: get employee leave plans
                    href: "/api/employees/E01/leaveplans/"
                  hrsys:delete-employee:
                    method: DELETE
                    title: Delete this employee
                    href: "/api/employees/E01/"
                  edit:
                    method: PUT
                    encoding: json
                    title: Edit this employee
                    schema:
                      type: object
                      required:
                      - first_name
                      - last_name
                      - address
                      - gender
                      - appointment_date
                      - active_emp
                      - mobile_no
                      - basic_salary
                      - account_number
                      properties:
                        employee_id:
                          description: Employee unique id
                          type: string
                        first_name:
                          description: Employee First name
                          type: string
                        middle_name:
                          description: Employee middle name
                          type:
                          - string
                          - 'null'
                        last_name:
                          description: Employee last name
                          type: string
                        address:
                          description: Employee address
                          type: string
                        gender:
                          description: Employee gender
                          type: string
                        date_of_birth:
                          description: Employee date of birth
                          type:
                          - string
                          - 'null'
                          format: date-time
                        appointment_date:
                          description: Employee date of appoinment
                          type: string
                          format: date-time
                        prefix_title:
                          description: Employee name title
                          type:
                          - string
                          - 'null'
                          enum:
                          - MR
                          - MISS
                          - MRS
                          - DR
                        marritial_status:
                          description: Employee merritial status
                          enum:
                          - MARRIED
                          - DIVORCED
                          - SINGLE
                          - WIDOWED
                          - UNAVAILABLE
                          type:
                          - string
                          - 'null'
                        mobile_no:
                          description: Employee mobile number
                          type: string
                        basic_salary:
                          description: Employee basic salary
                          type: number
                        account_number:
                          description: Employee bank account number
                          type: string
                    href: "/api/employees/E01/"
                  hrsys:add-leave:
                    method: POST
                    encoding: json
                    title: Add a new leave
                    schema:
                      type: object
                      required:
                      - leave_type
                      - leave_date
                      properties:
                        leave_type:
                          description: Type of leave
                          type: string
                          enum:
                          - MEDICAL
                          - CASUAL
                          - PATERNITY
                          - MATERNITY
                          - SABBATICAL
                          - UNPAID
                        leave_date:
                          description: leave date
                          type: string
                          format: date-time
                        reason:
                          description: reason for leave
                          type:
                          - string
                          - 'null'
                    href: "/api/employees/E01/leaveplans/"

                
        '404':
          description: The employee was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E01x/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - employee not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '403':
          description: Authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E01x/"
                "@error":
                  "@message": Forbidden
                  "@messages":
                  - Authentication error
                "@controls":
                  profile:
                    href: "/profiles/error/"

    put:
      tags: 
        - employees
      description: Replace employee's basic data with new values
      security:
        - HRSystemKey: [employee]
      requestBody:
        description: JSON document that contains new basic data for the employee
        content:
          application/vnd.mason+json:
            schema:
              $ref: '#/components/schemas/Employee'
            example:
              employee_id: E07
              first_name: test 1 name edit
              middle_name: middle name edit
              last_name: last name edit
              address: address edit
              gender: M
              date_of_birth: "2018-11-13T20:20:39+00:00"
              appointment_date: "2018-11-13T20:20:39+00:00"
              active_emp: 1
              prefix_title: MR
              marritial_status: SINGLE
              mobile_no: N75562365
              basic_salary: 56665
              account_number: FI5455455
      responses:
        '204':
          description: The employee's attributes were updated successfully
        '400':
          description: The request body was not valid
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E01x/"
                "@error":
                  "@message": Bad request
                  "@messages":
                  - bad request
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '404':
          description: The employee was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E01x/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - employee not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '409':
          description: A employee with the same name already exists
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E01x/"
                "@error":
                  "@message": Conflict
                  "@messages":
                  - employee exist
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '415':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E01x/"
                "@error":
                  "@message": Unsupported media type
                  "@messages":
                  - unsupported media type
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '403':
          description: Authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E01x/"
                "@error":
                  "@message": Forbidden
                  "@messages":
                  - Authentication error
                "@controls":
                  profile:
                    href: "/profiles/error/"
    delete:
      tags: 
        - employees
      description: Delete the selected employee
      security:
        - HRSystemKey: [admin]
      responses:
        '204':
          description: The employee was successfully deleted
        '404':
          description: The employee was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E01x/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - employee not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '403':
          description: Authentication error
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E01x/"
                "@error":
                  "@message": Forbidden
                  "@messages":
                  - Authentication error
                "@controls":
                  profile:
                    href: "/profiles/error/"

  /employees/{employee_id}/leaveplans/:
    parameters:
    - $ref: '#/components/parameters/employee_id'
    get:
      tags: 
        - leaveplans
      description: Get the leaveplans
      responses:
        '200':
          description: Leave plan of employee
          content:
            application/vnd.mason+json:
              example:
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                "@controls":
                  self:
                    href: "/api/employees/E03/leaveplans/"
                  hrsys:add-leave:
                    method: POST
                    encoding: json
                    title: Add a new leave
                    schema:
                      type: object
                      required:
                      - leave_type
                      - leave_date
                      properties:
                        leave_type:
                          description: Type of leave
                          type: string
                          enum:
                          - MEDICAL
                          - CASUAL
                          - PATERNITY
                          - MATERNITY
                          - SABBATICAL
                          - UNPAID
                        leave_date:
                          description: leave date
                          type: string
                          format: date-time
                        reason:
                          description: reason for leave
                          type:
                          - string
                          - 'null'
                    href: "/api/employees/E03/leaveplans/"
                items:
                - id: 1
                  leave_type: CASUAL
                  reason:
                  leave_date: '2018-12-01T11:20:30'
                  "@controls":
                    self:
                      href: "/api/employees/E03/leaveplans/1/"
                    profile:
                      href: "/profiles/leaveplan_collection/"

    post:
      tags: 
        - leaveplans
      description: Create a new leave
      requestBody:
        description: JSON document that contains basic data for a new leave
        content:
          application/vnd.mason+json:
            schema:
              $ref: '#/components/schemas/LeavePlan'
            example:
              leave_type: CASUAL
              reason: fever
              leave_date: "2018-11-13T20:20:39+00:00"
      responses:
        '201':
          description: The leave was created successfully
          headers:
            Location:
              schema:
                type: string
              description: Location URL for created leave
        '400':
          description: The request body was not valid
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03kks/leaveplans/"
                "@error":
                  "@message": Bad request
                  "@messages":
                  - bad request
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '409':
          description: A leave with the same id already exists
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03kks/leaveplans/"
                "@error":
                  "@message": Conflict
                  "@messages":
                  - leave id exist
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '415':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03kks/leaveplans/"
                "@error":
                  "@message": Unsupported media type
                  "@messages":
                  - Unsupported media type
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '404':
          description: employee not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03kks/leaveplans/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - employee not found
                "@controls":
                  profile:
                    href: "/profiles/error/"

  /employees/{employee_id}/leaveplans/{leaveplan_id}/:
    parameters:
    - $ref: '#/components/parameters/employee_id'
    - $ref: '#/components/parameters/leaveplan_id'
    get:
      tags: 
        - leaveplans
      description: Get a specific leave
      responses:
        '200':
          description: one leave item
          content:
            application/vnd.mason+json:
              example:
                id: 1
                leave_type: CASUAL
                reason:
                leave_date: '2018-11-13T20:20:39+00:00'
                "@namespaces":
                  hrsys:
                    name: "/hr_system/link-relations/"
                "@controls":
                  self:
                    href: "/api/employees/E03/leaveplans/1/"
                  profile:
                    href: "/profiles/leaveplan_item/"
                  collection:
                    href: "/api/employees/E03/leaveplans/"
                  edit:
                    method: PUT
                    encoding: json
                    title: Edit this leave
                    schema:
                      type: object
                      required:
                      - leave_type
                      - leave_date
                      properties:
                        leave_type:
                          description: Type of leave
                          type: string
                          enum:
                          - MEDICAL
                          - CASUAL
                          - PATERNITY
                          - MATERNITY
                          - SABBATICAL
                          - UNPAID
                        leave_date:
                          description: leave date
                          type: string
                          format: date-time
                        reason:
                          description: reason for leave
                          type:
                          - string
                          - 'null'
                    href: "/api/employees/E03/leaveplans/1/"
                  hrsys:delete-leave:
                    method: DELETE
                    title: Delete this leave
                    href: "/api/employees/E03/leaveplans/1/"
                  'hrsys: employee':
                    method: GET
                    title: Edit this employee
                    href: "/api/employees/E03/"


        '404':
          description: Employee or leave not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03x/leaveplans/1/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - employee not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '400':
          description: Unable to find corrosponding leaveplan
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03x/leaveplans/1/"
                "@error":
                  "@message": Bad request
                  "@messages":
                  - Unable to find corresponding leave
                "@controls":
                  profile:
                    href: "/profiles/error/"
    put:
      tags: 
        - leaveplans
      description: Replace leaveplan's basic data with new values
      requestBody:
        description: JSON document that contains new basic data for the leaveplan
        content:
          application/vnd.mason+json:
            schema:
              $ref: '#/components/schemas/LeavePlan'
            example:
              leave_type: MEDICAL
              reason: fever
              leave_date: "2018-11-13T20:20:39+00:00"
      responses:
        '204':
          description: The leaveplan's attributes were updated successfully
        '400':
          description: The request body was not valid or Unable to find corrosponding leaveplan
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03x/leaveplans/1/"
                "@error":
                  "@message": Bad request
                  "@messages":
                  - bad request
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '404':
          description: The leaveplan was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03x/leaveplans/1/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - employee not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '409':
          description: A leaveplan with the same name already exists
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03x/leaveplans/1/"
                "@error":
                  "@message": Conflict
                  "@messages":
                  - leave id exist
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '415':
          description: Wrong media type was used
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03x/leaveplans/1/"
                "@error":
                  "@message": unsupported media type
                  "@messages":
                  - unsupported media type
                "@controls":
                  profile:
                    href: "/profiles/error/"
    delete:
      tags: 
        - leaveplans
      description: Delete the selected leaveplan
      responses:
        '204':
          description: The leaveplan was successfully deleted
        '404':
          description: The leaveplan was not found
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03x/leaveplans/1/"
                "@error":
                  "@message": Not found
                  "@messages":
                  - employee not found
                "@controls":
                  profile:
                    href: "/profiles/error/"
        '400':
          description: Unable to find corrosponding leaveplan
          content:
            application/vnd.mason+json:
              example:
                resource_url: "/api/employees/E03x/leaveplans/1/"
                "@error":
                  "@message": bad request
                  "@messages":
                  - Unable to find corrosponding leaveplan
                "@controls":
                  profile:
                    href: "/profiles/error/"